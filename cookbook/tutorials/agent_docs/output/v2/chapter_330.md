## 3.3. Campaign (`dim_campaign`, `fct_campaign`)

Marketing campaigns are at the heart of any marketing effort. To effectively analyze and optimize these campaigns, we need well-structured tables that capture both the descriptive attributes and performance metrics. This section introduces the `dim_campaign` and `fct_campaign` tables, which together provide a comprehensive view of marketing campaigns within our data mart.

These tables address the following key needs:

*   **Descriptive Campaign Data**: Store static details about each campaign, such as its name, type, budget holder, and strategic objectives.
*   **Performance Measurement**: Track key metrics like budgeted cost, actual revenue, and the number of leads generated by each campaign.
*   **Relationship Management**: Define parent-child relationships between campaigns, enabling hierarchical analysis and reporting.

A central use case is analyzing the performance of different campaign types across various budget holders. For example, we might want to compare the lead generation cost of field marketing events versus digital marketing campaigns. These tables enable this analysis by providing the necessary data in a structured format.

Let's dive into the details of each table.

### 3.3.1. Campaign Dimension (`dim_campaign`)

The `dim_campaign` table serves as a repository for static, descriptive attributes of marketing campaigns. It's designed to provide context and categorization for campaign performance analysis.

*   **Purpose**: Stores static, descriptive attributes for marketing campaigns, including parent-child relationships and strategic groupings.
*   **Source Model**: Derived from [prep_campaign](chapter_431.md).

Here's an example of how you might query this table to understand the different types of campaigns being run:

```sql
SELECT
  type,
  COUNT(*) AS number_of_campaigns
FROM PROD.common.dim_campaign
GROUP BY type
ORDER BY number_of_campaigns DESC;
```

This query would return a list of campaign types and the number of campaigns associated with each type, allowing you to see the distribution of marketing efforts.

#### Key Fields:

*   **`campaign_name`**: The name of the campaign. This is a human-readable identifier for the campaign.
*   **`is_active`**: A boolean flag indicating whether the campaign is currently active.
*   **`status`**: The current status of the campaign (e.g., 'Planned', 'In Progress', 'Completed').
*   **`type`**: The type of campaign (e.g., 'Webinar', 'Email', 'Field Event').
*   **`description`**: A textual description of the campaign's objectives and strategy.
*   **`budget_holder`**: Identifies the team or individual responsible for the campaign's budget (e.g., 'Field Marketing', 'Digital Marketing').
*   **`strategic_marketing_contribution`**: Describes the campaign's contribution to overall marketing strategy.
*   **`large_bucket`**: A high-level categorization of the campaign (e.g., 'Demand Generation', 'Brand Awareness').
*   **`reporting_type`**: Specifies the reporting category for the campaign.
*   **`allocadia_id`**: An identifier used to link the campaign to data in Allocadia, a marketing performance management platform.
*   **Partner Involvement Flags**: Boolean flags indicating whether alliance or channel partners are involved in the campaign (`is_a_channel_partner_involved`, `is_an_alliance_partner_involved`).
*   **`sales_play`**: Indicates if the campaign is part of a specific sales initiative.
*   **`gtm_motion`**: Specifies the Go-To-Market motion associated with the campaign.
*   **`total_planned_mqls`**: The total number of MQLs (Marketing Qualified Leads) that the campaign is expected to generate.
*   **`series_campaign_id`/`name`**:  If the campaign is part of a series, these fields identify the parent series.

Understanding the source model for this table, [prep_campaign](chapter_431.md), is crucial for troubleshooting and understanding data lineage. The `prep_campaign` model cleans and transforms raw Salesforce Campaign data to populate the `dim_campaign` table.

### 3.3.2. Campaign Fact (`fct_campaign`)

The `fct_campaign` table complements the `dim_campaign` table by providing quantitative measures and key dates related to campaign performance.

*   **Purpose**: Contains additive measures and key dates for campaigns, facilitating quantitative performance analysis.
*   **Source Model**: Built directly from [prep_campaign](chapter_431.md).

To analyze the actual costs and revenues generated by different campaigns, you can use the following query:

```sql
SELECT
    dim_campaign.campaign_name,
    fct_campaign.budgeted_cost,
    fct_campaign.actual_cost,
    fct_campaign.amount_won_opportunities
FROM PROD.common.fct_campaign
JOIN PROD.common.dim_campaign
  ON fct_campaign.dim_campaign_id = dim_campaign.dim_campaign_id
ORDER BY fct_campaign.amount_won_opportunities DESC;
```

This query joins the `fct_campaign` table with the `dim_campaign` table to retrieve the name, budgeted cost, actual cost, and amount of revenue from won opportunities for each campaign, sorted by revenue.

#### Key Metrics:

*   **`budgeted_cost`**: The planned budget for the campaign.
*   **`expected_response`**: The number of responses expected from the campaign.
*   **`expected_revenue`**: The expected revenue to be generated by the campaign.
*   **`actual_cost`**: The actual cost incurred by the campaign.
*   **`amount_all_opportunities`**: The total value of all opportunities associated with the campaign.
*   **`amount_won_opportunities`**: The total value of won opportunities associated with the campaign.
*   **`count_` fields**: Various count fields, such as `count_contacts`, `count_leads`, `count_opportunities`, `count_responses`, and `count_sent`, that track the number of activities associated with the campaign.
* Planned Values for Funnel Stages: Metrics such as `planned_inquiry`, `planned_mql`, `planned_pipeline`, `planned_sao`, `planned_won`, and `planned_roi` to measure the planned outcomes for each stage of the funnel.

Like `dim_campaign`, the `fct_campaign` table is also populated using the [prep_campaign](chapter_431.md) model.

By combining the descriptive data in `dim_campaign` with the performance metrics in `fct_campaign`, we can gain a comprehensive understanding of marketing campaign effectiveness, enabling data-driven decisions to optimize marketing investments.